import{_ as N}from"./AppLayout-ed64ce15.js";import{_ as q}from"./FormSection-6123128b.js";import{_ as u}from"./InputForm-c85b7645.js";import{_ as T}from"./PrimaryButton-558ab370.js";import{_ as U}from"./SecondaryButton-eaa16cb7.js";import{T as k,g as c,o as r,h as b,w as a,a as f,b as i,d as m,t as p,c as x,i as B,F as I,u as n,j as S,n as w,O as D}from"./app-fcae524f.js";import{_ as F}from"./SelectForm-cafac479.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},O=f("option",{selected:"",value:""},"Ninguno",-1),j=["value"],A={class:"col-span-4 text-lg font-medium text-gray-900"},K={__name:"Create",props:{concepts:{type:Object,required:!0},type:{type:String,required:!0}},setup(s){const l=s,V=l.type==="incomes"?{incomeable_id:null}:{expenditureable_id:null},v=l.type==="incomes"?{incomeable_type:null}:{expenditureable_type:null},e=k({id:null,quantity:1,value:0,discount:0,concept:"",description:"",...V,...v}),y={incomes:"Ingreso",expenditures:"Egreso"},g=c(()=>isNaN(e.value)||isNaN(e.quantity)?0:e.value*e.quantity-e.discount);function C(){e.incomeable_id&&(e.incomeable_type="App\\Models\\Concept"),e.expenditureable_id&&(e.expenditureable_type="App\\Models\\Concept"),e.post(route(`dashboard.${l.type}.store`),{onSuccess:()=>{D.visit(route("dashboard.finances.index",l.type))}})}const $=c(()=>{if(e.incomeable_id||e.expenditureable_id)return!0}),_=c({get(){return l.type==="incomes"?e.incomeable_id:e.expenditureable_id},set(d){e.concept="",l.type==="incomes"?e.incomeable_id=d:e.expenditureable_id=d}});return(d,o)=>(r(),b(N,{title:"Customer"},{default:a(()=>[f("div",M,[i(q,{onSubmitted:C},{title:a(()=>[m(" Informacion del "+p(y[s.type]),1)]),description:a(()=>[m(" Ingrese los datos del nuevo "+p(y[s.type]),1)]),form:a(()=>[i(F,{text:"Concept",modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=t=>_.value=t),name:"model_id"},{default:a(()=>[O,(r(!0),x(I,null,B(s.concepts,t=>(r(),x("option",{value:t.id},p(t.name),9,j))),256))]),_:1},8,["modelValue"]),i(u,{text:"Write custom",modelValue:n(e).concept,"onUpdate:modelValue":o[1]||(o[1]=t=>n(e).concept=t),disabled:$.value,name:"concept"},null,8,["modelValue","disabled"]),i(u,{text:"Description (optional)",name:"description",modelValue:n(e).description,"onUpdate:modelValue":o[2]||(o[2]=t=>n(e).description=t),autocomplete:"on"},null,8,["modelValue"]),i(u,{text:"Quantity",modelValue:n(e).quantity,"onUpdate:modelValue":o[3]||(o[3]=t=>n(e).quantity=t),type:"number"},null,8,["modelValue"]),i(u,{text:"Value",modelValue:n(e).value,"onUpdate:modelValue":o[4]||(o[4]=t=>n(e).value=t)},null,8,["modelValue"]),s.type=="incomes"?(r(),b(u,{key:0,text:"Discount",modelValue:n(e).discount,"onUpdate:modelValue":o[5]||(o[5]=t=>n(e).discount=t)},null,8,["modelValue"])):S("",!0),f("div",A," Total: C$ "+p(g.value),1)]),actions:a(()=>[i(U,{onClick:o[6]||(o[6]=t=>d.$inertia.visit(d.route("dashboard.incomes.index")))},{default:a(()=>[m(" Cancelar ")]),_:1}),i(T,{class:w({"opacity-25":n(e).processing}),disabled:n(e).processing},{default:a(()=>[m(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})])]),_:1}))}};export{K as default};
