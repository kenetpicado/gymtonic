import{C as v,_ as S}from"./AppLayout-d2bd9a80.js";import{_ as x}from"./PrimaryButton-045970ee.js";import{_ as $}from"./DialogModal-67190315.js";import{_ as i}from"./InputForm-f8c2342d.js";import{_ as w}from"./SecondaryButton-47d90010.js";import{j as y,T as N,o as c,f as P,w as n,b as a,d as m,u as l,a as o,t as p,c as b,k as q,F as U,h as B}from"./app-20f6db79.js";import{t as V}from"./toast-4b6ad305.js";import{T as F}from"./TableSection-18e4a448.js";import{_ as M}from"./ThePaginator-759527f3.js";import{_ as T}from"./DateColumn-8cccff53.js";import{I as j}from"./IconPencil-d2f0c55e.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"text-2xl font-extrabold text-gray-600"},E=o("th",null,"Fecha",-1),I=o("th",null,"Concepto",-1),A=o("th",null,"Descripcion",-1),L=o("th",null,"Monto",-1),O=o("th",null,"Acciones",-1),z={class:"hover:bg-gray-50"},G={class:"badge-blue"},Y={key:0},H=o("td",{colspan:"5",class:"text-center"},"No data to display",-1),J=[H],de={__name:"Show",props:{employee:{payment:Object,required:!0},payments:{payment:Object,required:!0}},setup(d){const h=d,u=y(!1),_=y(!0),g=[{name:"Inicio",route:"dashboard.index"},{name:"Personal",route:"dashboard.employees.index"},{name:"Pagos",route:"dashboard.employees.show",params:[h.employee.id]}],e=N({id:null,value:0,quantity:1,description:"",concept:"Pago de salario",expenditureable_type:"App\\Models\\Employee",expenditureable_id:h.employee.id,created_at:v.today()});function k(r){_.value=!1,e.id=r.id,e.value=r.value,e.quantity=r.quantity,e.description=r.description,e.concept=r.concept,e.created_at=new v(r.created_at).format("Y-m-d"),u.value=!0}function C(){_.value?e.post(route("dashboard.expenditures.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f(),V.success("Pago guardado correctamente!")}}):e.put(route("dashboard.expenditures.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{f(),V.success("Pago actualizado correctamente!")}})}function f(){e.reset(),e.clearErrors(),_.value=!0,u.value=!1}return(r,s)=>(c(),P(S,{title:"Pagos",breads:g},{default:n(()=>[a($,{show:u.value},{title:n(()=>[m(" Nuevo ")]),content:n(()=>[a(i,{text:"Concepto",name:"concept",modelValue:l(e).concept,"onUpdate:modelValue":s[0]||(s[0]=t=>l(e).concept=t)},null,8,["modelValue"]),a(i,{text:"Descripcion (opcional)",name:"description",modelValue:l(e).description,"onUpdate:modelValue":s[1]||(s[1]=t=>l(e).description=t)},null,8,["modelValue"]),a(i,{text:"Monto",name:"value",modelValue:l(e).value,"onUpdate:modelValue":s[2]||(s[2]=t=>l(e).value=t),type:"number"},null,8,["modelValue"]),a(i,{text:"Fecha",name:"created_at",modelValue:l(e).created_at,"onUpdate:modelValue":s[3]||(s[3]=t=>l(e).created_at=t),type:"date"},null,8,["modelValue"])]),footer:n(()=>[a(w,{onClick:f},{default:n(()=>[m(" Cancelar ")]),_:1}),a(x,{payment:"button",onClick:C},{default:n(()=>[m(" Guardar ")]),_:1})]),_:1},8,["show"]),a(F,null,{topbar:n(()=>[o("h2",D," Pagos: "+p(d.employee.name),1),a(x,{payment:"button",onClick:s[4]||(s[4]=t=>u.value=!0)},{default:n(()=>[m(" Nuevo ")]),_:1})]),header:n(()=>[E,I,A,L,O]),body:n(()=>[(c(!0),b(U,null,q(d.payments.data,(t,K)=>(c(),b("tr",z,[o("td",null,[a(T,{date:t.created_at},null,8,["date"])]),o("td",null,p(t.concept),1),o("td",null,p(t.description),1),o("td",null,[o("span",G,"C$ "+p(t.value.toLocaleString("en-US")),1)]),o("td",null,[a(l(j),{onClick:Q=>k(t),role:"button"},null,8,["onClick"])])]))),256)),d.payments.data.length==0?(c(),b("tr",Y,J)):B("",!0)]),paginator:n(()=>[a(M,{links:d.payments.links},null,8,["links"])]),_:1})]),_:1}))}};export{de as default};
