import{_ as S}from"./AppLayout-95c26e89.js";import{_ as v}from"./PrimaryButton-cbad163b.js";import{_ as $}from"./DialogModal-b98b38c2.js";import{_ as f}from"./InputForm-daeecd40.js";import{_ as w}from"./SecondaryButton-369c6abe.js";import{f as x,T as N,o as u,h as P,w as a,b as s,d as c,u as l,a as t,t as m,c as h,i as q,F as B,j as F}from"./app-3ea472c4.js";import{t as y}from"./toast-523d5346.js";import{T as M}from"./TableSection-0dcf2228.js";import{C as g}from"./Carbon-053ffa43.js";import{_ as T}from"./ThePaginator-16e396d2.js";import{_ as U}from"./DateColumn-81409add.js";import{I as j}from"./IconPencil-0bce1737.js";import"./_plugin-vue_export-helper-c27b6911.js";const D={class:"text-2xl font-extrabold text-gray-600"},E=t("th",null,"Fecha",-1),I=t("th",null,"Concepto",-1),A=t("th",null,"Descripcion",-1),L=t("th",null,"Monto",-1),O=t("th",null,"Acciones",-1),z={class:"hover:bg-gray-50"},G={class:"badge-blue"},Y={key:0},H=t("td",{colspan:"5",class:"text-center"},"No data to display",-1),J=[H],ie={__name:"Show",props:{employee:{payment:Object,required:!0},payments:{payment:Object,required:!0}},setup(d){const b=d,i=x(!1),p=x(!0),V=[{name:"Inicio",route:"dashboard.index"},{name:"Personal",route:"dashboard.employees.index"},{name:"Pagos",route:"dashboard.employees.show",params:[b.employee.id]}],e=N({id:null,value:0,quantity:1,description:"",concept:"Pago de salario",expenditureable_type:"App\\Models\\Employee",expenditureable_id:b.employee.id,created_at:g.today()});function k(r){p.value=!1,e.id=r.id,e.value=r.value,e.quantity=r.quantity,e.description=r.description,e.concept=r.concept,e.created_at=new g(r.created_at).format("Y-m-d"),i.value=!0}function C(){p.value?e.post(route("dashboard.expenditures.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),y.success("Pago guardado correctamente!")}}):e.put(route("dashboard.expenditures.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),y.success("Pago actualizado correctamente!")}})}function _(){e.reset(),e.clearErrors(),p.value=!0,i.value=!1}return(r,n)=>(u(),P(S,{title:"Pagos",breads:V},{default:a(()=>[s($,{show:i.value},{title:a(()=>[c(" Nuevo ")]),content:a(()=>[s(f,{text:"Descripcion (opcional)",name:"description",modelValue:l(e).description,"onUpdate:modelValue":n[0]||(n[0]=o=>l(e).description=o)},null,8,["modelValue"]),s(f,{text:"Monto",name:"value",modelValue:l(e).value,"onUpdate:modelValue":n[1]||(n[1]=o=>l(e).value=o),type:"number"},null,8,["modelValue"]),s(f,{text:"Fecha",name:"created_at",modelValue:l(e).created_at,"onUpdate:modelValue":n[2]||(n[2]=o=>l(e).created_at=o),type:"date"},null,8,["modelValue"])]),footer:a(()=>[s(w,{onClick:_},{default:a(()=>[c(" Cancelar ")]),_:1}),s(v,{payment:"button",onClick:C},{default:a(()=>[c(" Guardar ")]),_:1})]),_:1},8,["show"]),s(M,null,{topbar:a(()=>[t("h2",D," Pagos: "+m(d.employee.name),1),s(v,{payment:"button",onClick:n[3]||(n[3]=o=>i.value=!0)},{default:a(()=>[c(" Nuevo ")]),_:1})]),header:a(()=>[E,I,A,L,O]),body:a(()=>[(u(!0),h(B,null,q(d.payments.data,(o,K)=>(u(),h("tr",z,[t("td",null,[s(U,{date:o.created_at},null,8,["date"])]),t("td",null,m(o.concept),1),t("td",null,m(o.description),1),t("td",null,[t("span",G,"C$ "+m(o.value.toLocaleString("en-US")),1)]),t("td",null,[s(l(j),{onClick:Q=>k(o),role:"button"},null,8,["onClick"])])]))),256)),d.payments.data.length==0?(u(),h("tr",Y,J)):F("",!0)]),paginator:a(()=>[s(T,{links:d.payments.links},null,8,["links"])]),_:1})]),_:1}))}};export{ie as default};
