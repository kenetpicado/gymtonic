import{_ as g,C as f}from"./AppLayout-6457c51b.js";import{_ as b}from"./FormSection-9ea3a8e3.js";import{_ as r}from"./InputForm-08974e7c.js";import{_ as C}from"./PrimaryButton-9a88ec28.js";import{_ as $}from"./SecondaryButton-d690245a.js";import{T as q,p as N,o as l,f as y,w as s,a as m,b as n,d,t as u,u as a,c as V,k,F as S,h as U,n as B,O as w}from"./app-800d3baf.js";import{_ as D}from"./SelectForm-71b623fe.js";import{t as O}from"./toast-0c86e67e.js";import"./_plugin-vue_export-helper-c27b6911.js";const T={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},E=m("option",{value:""},"Seleccionar concepto",-1),F=["value"],I={class:"text-lg font-medium text-gray-900"},K={__name:"Create",props:{concepts:{type:Object,required:!0},type:{type:String,required:!0}},setup(i){const p=i,e=q({id:null,quantity:1,value:0,discount:0,concept:"",description:"",model_id:""}),_={incomes:"Ingreso",expenditures:"Egreso"},v=N(()=>isNaN(e.value)||isNaN(e.quantity)?0:e.value*e.quantity-e.discount);function x(){e.post(route(`dashboard.${p.type}.store`),{onSuccess:()=>{e.reset(),O.success("Registro creado correctamente"),w.visit(route("dashboard.finances.index",{type:p.type,from:f.today(),to:f.today()}))}})}return(c,o)=>(l(),y(g,{title:"Customer"},{default:s(()=>[m("div",T,[n(b,{onSubmitted:x},{title:s(()=>[d(u(_[i.type]),1)]),description:s(()=>[d(" Ingrese los datos del nuevo registro ")]),form:s(()=>[n(D,{text:"Concepto",modelValue:a(e).model_id,"onUpdate:modelValue":o[0]||(o[0]=t=>a(e).model_id=t),name:"model_id",required:""},{default:s(()=>[E,(l(!0),V(S,null,k(i.concepts,t=>(l(),V("option",{value:t.id},u(t.name),9,F))),256))]),_:1},8,["modelValue"]),n(r,{text:"Descripcion (opcional)",name:"description",modelValue:a(e).description,"onUpdate:modelValue":o[1]||(o[1]=t=>a(e).description=t),autocomplete:"on"},null,8,["modelValue"]),n(r,{text:"Cantidad",name:"quantity",modelValue:a(e).quantity,"onUpdate:modelValue":o[2]||(o[2]=t=>a(e).quantity=t),type:"number"},null,8,["modelValue"]),n(r,{text:"Monto",name:"value",modelValue:a(e).value,"onUpdate:modelValue":o[3]||(o[3]=t=>a(e).value=t),type:"number"},null,8,["modelValue"]),i.type=="incomes"?(l(),y(r,{key:0,text:"Descuento",name:"discount",modelValue:a(e).discount,"onUpdate:modelValue":o[4]||(o[4]=t=>a(e).discount=t),type:"number"},null,8,["modelValue"])):U("",!0),m("div",I," Total: C$ "+u(v.value),1)]),actions:s(()=>[n($,{onClick:o[5]||(o[5]=t=>c.$inertia.visit(c.route("dashboard.finances.index",{type:i.type})))},{default:s(()=>[d(" Cancelar ")]),_:1}),n(C,{class:B({"opacity-25":a(e).processing}),disabled:a(e).processing},{default:s(()=>[d(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})])]),_:1}))}};export{K as default};
