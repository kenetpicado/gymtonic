import{_ as b}from"./PrimaryButton-558ab370.js";import{_ as C}from"./AppLayout-ed64ce15.js";import{_ as S}from"./DialogModal-a6a9c09a.js";import{_ as v}from"./InputForm-c85b7645.js";import{_ as U}from"./SecondaryButton-eaa16cb7.js";import{f as V,T as w,o as n,h as B,w as a,b as l,d as p,t as i,a as o,u as r,c as d,i as x,F as y,j as D}from"./app-fcae524f.js";import{_ as E}from"./UserInformation-d1c7e6a0.js";import{T as I}from"./TableSection-7961ffc7.js";import{t as N}from"./toast-d9d6ba85.js";import{_ as T}from"./SelectForm-cafac479.js";import{I as j}from"./IconPencil-431cc23c.js";import"./helpers-8a66454b.js";import"./_plugin-vue_export-helper-c27b6911.js";const q={class:"grid gap-6"},F=o("div",null,null,-1),O=o("th",null,"ID",-1),R=o("th",null,"Nombre",-1),z=o("th",null,"Email",-1),A=o("th",null,"Rol",-1),G=o("th",null,"Accciones",-1),L={class:"hover:bg-gray-50"},M={class:"badge-blue uppercase"},P={key:0},H=o("td",{colspan:"4",class:"text-center"},"No data to display",-1),J=[H],ie={__name:"Index",props:{users:{type:Object,required:!0},roles:{type:Object,required:!0}},setup(m){const h=m,c=V(!1),_=V(!0),g=[{name:"Dashboard",route:"dashboard.index"},{name:"Usuarios",route:"dashboard.users.index"}],e=w({id:null,name:"",email:"",role:h.roles[h.roles.length-1]});function k(u){e.id=u.id,e.name=u.name,e.email=u.email,e.role=u.role,_.value=!1,c.value=!0}function $(){_.value?e.post(route("dashboard.users.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{N.success("Usuario creado correctamente!"),f()}}):e.put(route("dashboard.users.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{N.success("Usuario actualizado correctamente!"),f()}})}function f(){e.reset(),_.value=!0,c.value=!1}return(u,s)=>(n(),B(C,{title:"Dashboard",breads:g},{default:a(()=>[l(S,{show:c.value},{title:a(()=>[p(i(_.value?"Nuevo":"Editar"),1)]),content:a(()=>[o("div",q,[l(v,{text:"Name",modelValue:r(e).name,"onUpdate:modelValue":s[0]||(s[0]=t=>r(e).name=t)},null,8,["modelValue"]),l(v,{text:"Email",modelValue:r(e).email,"onUpdate:modelValue":s[1]||(s[1]=t=>r(e).email=t),type:"email"},null,8,["modelValue"]),l(T,{text:"Role",modelValue:r(e).role,"onUpdate:modelValue":s[2]||(s[2]=t=>r(e).role=t)},{default:a(()=>[(n(!0),d(y,null,x(m.roles,t=>(n(),d("option",null,i(t),1))),256))]),_:1},8,["modelValue"])])]),footer:a(()=>[l(U,{onClick:f},{default:a(()=>[p(" Cancelar ")]),_:1}),l(b,{type:"button",onClick:$},{default:a(()=>[p(" Guardar ")]),_:1})]),_:1},8,["show"]),l(I,null,{topbar:a(()=>[F,l(b,{type:"button",onClick:s[3]||(s[3]=t=>c.value=!0)},{default:a(()=>[p(" Nuevo ")]),_:1})]),header:a(()=>[O,R,z,A,G]),body:a(()=>[(n(!0),d(y,null,x(m.users,(t,K)=>(n(),d("tr",L,[o("td",null,i(t.id),1),o("th",null,[l(E,{user:t},null,8,["user"])]),o("td",null,i(t.email),1),o("td",null,[o("span",M,i(t.role),1)]),o("td",null,[l(r(j),{onClick:Q=>k(t),role:"button"},null,8,["onClick"])])]))),256)),m.users.length==0?(n(),d("tr",P,J)):D("",!0)]),_:1})]),_:1}))}};export{ie as default};
