import{_ as $}from"./AppLayout-875059f4.js";import{_ as N}from"./FormSection-d5d1cdc8.js";import{_ as u}from"./InputForm-2558843a.js";import{_ as q}from"./PrimaryButton-2219454a.js";import{_ as U}from"./SecondaryButton-fc06f65f.js";import{T as k,g as c,o as r,h as _,w as a,a as f,b as i,d as m,t as p,c as x,i as B,F as M,u as n,j as S,n as T,O as w}from"./app-02905ccf.js";import{_ as D}from"./SelectForm-6210dbc5.js";import"./_plugin-vue_export-helper-c27b6911.js";const I={class:"max-w-7xl mx-auto py-10 sm:px-6 lg:px-8"},O=f("option",{selected:"",value:""},"Ninguno",-1),j=["value"],z={class:"text-lg font-medium text-gray-900"},K={__name:"Create",props:{concepts:{type:Object,required:!0},type:{type:String,required:!0}},setup(l){const s=l,V=s.type==="incomes"?{incomeable_id:null,incomeable_type:null}:{expenditureable_id:null,expenditureable_type:null},e=k({id:null,quantity:1,value:0,discount:0,concept:"",description:"",...V}),y={incomes:"Ingreso",expenditures:"Egreso"},v=c(()=>isNaN(e.value)||isNaN(e.quantity)?0:e.value*e.quantity-e.discount);function g(){e.incomeable_id&&(e.incomeable_type="App\\Models\\Concept"),e.expenditureable_id&&(e.expenditureable_type="App\\Models\\Concept"),e.post(route(`dashboard.${s.type}.store`),{onSuccess:()=>{w.visit(route("dashboard.finances.index",s.type))}})}const C=c(()=>{if(e.incomeable_id||e.expenditureable_id)return!0}),b=c({get(){return s.type==="incomes"?e.incomeable_id:e.expenditureable_id},set(d){e.concept="",s.type==="incomes"?e.incomeable_id=d:e.expenditureable_id=d}});return(d,o)=>(r(),_($,{title:"Customer"},{default:a(()=>[f("div",I,[i(N,{onSubmitted:g},{title:a(()=>[m(" Informacion del "+p(y[l.type]),1)]),description:a(()=>[m(" Ingrese los datos del nuevo "+p(y[l.type]),1)]),form:a(()=>[i(D,{text:"Concepto",modelValue:b.value,"onUpdate:modelValue":o[0]||(o[0]=t=>b.value=t),name:"model_id"},{default:a(()=>[O,(r(!0),x(M,null,B(l.concepts,t=>(r(),x("option",{value:t.id},p(t.name),9,j))),256))]),_:1},8,["modelValue"]),i(u,{text:"Personalizado",modelValue:n(e).concept,"onUpdate:modelValue":o[1]||(o[1]=t=>n(e).concept=t),disabled:C.value,name:"concept"},null,8,["modelValue","disabled"]),i(u,{text:"Descripcion (opcional)",name:"description",modelValue:n(e).description,"onUpdate:modelValue":o[2]||(o[2]=t=>n(e).description=t),autocomplete:"on"},null,8,["modelValue"]),i(u,{text:"Cantidad",name:"quantity",modelValue:n(e).quantity,"onUpdate:modelValue":o[3]||(o[3]=t=>n(e).quantity=t),type:"number"},null,8,["modelValue"]),i(u,{text:"Monto",name:"value",modelValue:n(e).value,"onUpdate:modelValue":o[4]||(o[4]=t=>n(e).value=t),type:"number"},null,8,["modelValue"]),l.type=="incomes"?(r(),_(u,{key:0,text:"Descuento",name:"discount",modelValue:n(e).discount,"onUpdate:modelValue":o[5]||(o[5]=t=>n(e).discount=t),type:"number"},null,8,["modelValue"])):S("",!0),f("div",z," Total: C$ "+p(v.value),1)]),actions:a(()=>[i(U,{onClick:o[6]||(o[6]=t=>d.$inertia.visit(d.route("dashboard.incomes.index")))},{default:a(()=>[m(" Cancelar ")]),_:1}),i(q,{class:T({"opacity-25":n(e).processing}),disabled:n(e).processing},{default:a(()=>[m(" Guardar ")]),_:1},8,["class","disabled"])]),_:1})])]),_:1}))}};export{K as default};
