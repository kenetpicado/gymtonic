import{_ as I}from"./DateColumn-bcb5e352.js";import{_ as N}from"./DialogModal-3ac547bb.js";import{_ as p}from"./InputForm-f5c87c45.js";import{_ as b}from"./PrimaryButton-424b8710.js";import{_ as T}from"./SecondaryButton-f5f01807.js";import{T as U}from"./TableSection-ebc36c78.js";import{_ as D}from"./ThePaginator-40b894e0.js";import{_ as w}from"./AppLayout-46e562f0.js";import{u as E}from"./notify-d6666c66.js";import{t as y}from"./toast-d198886e.js";import{f as g,T as B,g as L,o as u,h as O,w as s,b as a,d as _,t as i,a as e,u as r,c as f,i as j,F,j as x,O as M}from"./app-93ea45e5.js";import{C as A}from"./Carbon-053ffa43.js";import{I as z}from"./IconPencil-afe90513.js";import{I as G}from"./IconTrash-38ae03b9.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sweetalert2.all-1abbabb2.js";const P={class:"grid gap-6"},Q={class:"col-span-4 text-lg font-medium text-gray-900 mb-2"},H={class:"font-semibold text-xl text-gray-800 leading-tight items-center"},J=e("th",null,"Fecha",-1),K=e("th",null,"Descripcion",-1),R=e("th",null,"Monto",-1),W=e("th",null,"Total",-1),X=e("th",null,"Actions",-1),Y={class:"hover:bg-gray-50"},Z={class:"font-medium text-gray-700"},ee={key:0,class:"text-gray-400"},te={class:"badge-success"},oe={class:"flex gap-4"},ae=["onClick"],se=["onClick"],ne={key:0},re=e("td",{colspan:"5",class:"text-center"},"No data to display",-1),le=[re],ke={__name:"Index",props:{concept:{type:Object,required:!0},incomes:{type:Object,required:!0}},setup(d){const v=d,c=g(!1),m=g(!0),C=[{name:"Dashboard",route:"dashboard.index"},{name:"Conceptos",route:"dashboard.concepts.index"},{name:v.concept.name,route:"dashboard.concepts.incomes.index",params:[v.concept.id]}],t=B({id:null,quantity:1,value:0,description:"",created_at:A.today(),incomeable_id:v.concept.id,incomeable_type:"App\\Models\\Concept"}),V=L(()=>(t.quantity*t.value).toLocaleString("en-US"));function S(l){t.id=l.id,t.quantity=l.quantity,t.value=l.value,t.description=l.description,m.value=!1,c.value=!0}function k(l){E().confirm(()=>{M.delete(route("dashboard.incomes.destroy",l),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Ingreso eliminado correctamente!")}})},"¿Estás seguro de eliminar este pago?")}function $(){m.value?t.post(route("dashboard.incomes.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Ingreso creado correctamente!"),h()}}):t.put(route("dashboard.incomes.update",t.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Ingreso actualizado correctamente!"),h()}})}function h(){t.reset(),m.value=!0,c.value=!1}return(l,n)=>(u(),O(w,{title:"Dashboard",breads:C},{default:s(()=>[a(N,{show:c.value},{title:s(()=>[_(i(m.value?"Nuevo":"Editar"),1)]),content:s(()=>[e("div",P,[a(p,{text:"Description",modelValue:r(t).description,"onUpdate:modelValue":n[0]||(n[0]=o=>r(t).description=o),autocomplete:"on"},null,8,["modelValue"]),a(p,{text:"Quantity",modelValue:r(t).quantity,"onUpdate:modelValue":n[1]||(n[1]=o=>r(t).quantity=o),type:"number"},null,8,["modelValue"]),a(p,{text:"Value",modelValue:r(t).value,"onUpdate:modelValue":n[2]||(n[2]=o=>r(t).value=o),type:"number"},null,8,["modelValue"]),a(p,{text:"Created at",modelValue:r(t).created_at,"onUpdate:modelValue":n[3]||(n[3]=o=>r(t).created_at=o),type:"date"},null,8,["modelValue"]),e("div",Q," Total: C$ "+i(V.value),1)])]),footer:s(()=>[a(T,{onClick:h},{default:s(()=>[_(" Cancelar ")]),_:1}),a(b,{type:"button",onClick:$},{default:s(()=>[_(" Guardar ")]),_:1})]),_:1},8,["show"]),a(U,null,{topbar:s(()=>[e("h2",H," Ingresos: "+i(d.concept.name),1),a(b,{type:"button",onClick:n[4]||(n[4]=o=>c.value=!0)},{default:s(()=>[_(" Nuevo ")]),_:1})]),header:s(()=>[J,K,R,W,X]),body:s(()=>[(u(!0),f(F,null,j(d.incomes.data,(o,ie)=>(u(),f("tr",Y,[e("td",null,[a(I,{date:o.created_at},null,8,["date"])]),e("td",null,i(o.description),1),e("td",null,[e("div",Z," C$ "+i(o.value.toLocaleString("en-US")),1),o.quantity>1?(u(),f("div",ee," Cant. "+i(o.quantity),1)):x("",!0)]),e("td",null,[e("span",te," C$ "+i((o.value*o.quantity).toLocaleString("en-US")),1)]),e("td",null,[e("div",oe,[e("span",{tooltip:"Editar",role:"button",onClick:q=>S(o)},[a(r(z))],8,ae),e("span",{tooltip:"Eliminar",role:"button",onClick:q=>k(o.id)},[a(r(G))],8,se)])])]))),256)),d.incomes.data.length==0?(u(),f("tr",ne,le)):x("",!0)]),paginator:s(()=>[a(D,{links:d.incomes.links},null,8,["links"])]),_:1})]),_:1}))}};export{ke as default};
