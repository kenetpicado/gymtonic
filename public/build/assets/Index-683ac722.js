import{_ as g}from"./Checkbox-4d81ed33.js";import{C as V}from"./Carbon-053ffa43.js";import{c as E,D as N}from"./conceptIcons-e1470d40.js";import{o as i,c as _,a as o,h as p,k as S,u as t,d as u,t as x,b as d,j as h,w as n,l as b,f as k,T as B,i as D,F as I,K as j}from"./app-fcae524f.js";import{c as O,_ as F}from"./AppLayout-ed64ce15.js";import{_ as M}from"./DialogModal-a6a9c09a.js";import{_ as U}from"./InputForm-c85b7645.js";import{_ as C}from"./PrimaryButton-558ab370.js";import{_ as z}from"./SecondaryButton-eaa16cb7.js";import{t as y}from"./toast-d9d6ba85.js";import"./IconInfoCircle-5223be86.js";import"./_plugin-vue_export-helper-c27b6911.js";var T=O("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);const q={class:"w-full p-6 bg-white shadow-soft-xl rounded-xl"},L={class:"flex flex-col justify-between h-full"},A={class:"mb-2"},G={class:"mb-2 text-xl font-semibold tracking-tight text-gray-900"},K={key:0,class:"mb-5 text-sm text-gray-500 mt-1"},H={class:"flex gap-4"},J={__name:"ConceptCard",props:{concept:{type:Object,required:!0}},setup(s){return(r,l)=>{var e;return i(),_("div",q,[o("div",L,[o("div",null,[o("div",A,[(i(),p(S(t(E)[s.concept.name]??t(N)),{size:"25",class:"text-gray-400"}))]),o("h5",G,[u(x(s.concept.name)+" ",1),d(t(T),{class:"inline-block w-4 h-4",onClick:l[0]||(l[0]=v=>r.$emit("onEdit",s.concept)),role:"button"})])]),s.concept.last_expenditure?(i(),_("p",K," Ãºlt. pago: "+x(t(V).create((e=s.concept.last_expenditure)==null?void 0:e.created_at).format("d de F")),1)):h("",!0),o("div",H,[s.concept.has_expenditure?(i(),p(t(b),{key:0,tooltip:"Ver los pagos",href:r.route("dashboard.concepts.expenditures.index",s.concept.id),class:"badge-danger"},{default:n(()=>[u(" Egresos ")]),_:1},8,["href"])):h("",!0),s.concept.has_income?(i(),p(t(b),{key:1,tooltip:"Ver los ingresos",href:r.route("dashboard.concepts.incomes.index",s.concept.id),class:"badge-success"},{default:n(()=>[u(" Ingresos ")]),_:1},8,["href"])):h("",!0)])])])}}},P={class:"flex flex-col gap-6"},Q={class:"grid grid-cols-2 gap-4"},R={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-4"},W={class:"flex items-center justify-between mb-6 gap-4"},X=o("div",null,null,-1),Y={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6"},pe={__name:"Index",props:{concepts:{type:Object,required:!0}},setup(s){const r=k(!1),l=k(!0),e=B({id:null,name:"",has_income:!1,has_expenditure:!0}),v=[{name:"Dashboard",route:"dashboard.index"},{name:"Conceptos",route:"dashboard.concepts.index"}];function $(m){e.id=m.id,e.name=m.name,e.has_income=!!m.has_income,e.has_expenditure=!!m.has_expenditure,l.value=!1,r.value=!0}function w(){l.value?e.post(route("dashboard.concepts.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Concepto creado correctamente!"),f()}}):e.put(route("dashboard.concepts.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Concepto actualizado correctamente!"),f()}})}function f(){e.reset(),l.value=!0,r.value=!1,j().props.errors={}}return(m,c)=>(i(),p(F,{title:"Dashboard",breads:v},{default:n(()=>[d(M,{show:r.value},{title:n(()=>[u(x(l.value?"Nuevo":"Editar"),1)]),content:n(()=>[o("div",P,[d(U,{text:"Name",modelValue:t(e).name,"onUpdate:modelValue":c[0]||(c[0]=a=>t(e).name=a)},null,8,["modelValue"]),o("div",Q,[d(g,{checked:t(e).has_expenditure,"onUpdate:checked":c[1]||(c[1]=a=>t(e).has_expenditure=a),text:"Egresos"},null,8,["checked"]),d(g,{checked:t(e).has_income,"onUpdate:checked":c[2]||(c[2]=a=>t(e).has_income=a),text:"Ingresos"},null,8,["checked"])])])]),footer:n(()=>[d(z,{onClick:f},{default:n(()=>[u(" Cancelar ")]),_:1}),d(C,{type:"button",onClick:w},{default:n(()=>[u(" Guardar ")]),_:1})]),_:1},8,["show"]),o("div",R,[o("div",W,[X,d(C,{type:"button",onClick:c[3]||(c[3]=a=>r.value=!0)},{default:n(()=>[u(" Nuevo ")]),_:1})]),o("div",Y,[(i(!0),_(I,null,D(s.concepts.data,(a,Z)=>(i(),p(J,{concept:a,onOnEdit:ee=>$(a)},null,8,["concept","onOnEdit"]))),256))])])]),_:1}))}};export{pe as default};
