import{_ as D}from"./AppLayout-b799d88f.js";import{T as E}from"./TableSection-ae9a6086.js";import{C as I}from"./Carbon-053ffa43.js";import{_ as M}from"./SelectForm-d7b0185d.js";import{m as T,j as h,p as V,o as r,b as j,w as i,d as g,c as l,k as x,F as v,u as k,a as e,t as s,O as q,n as w}from"./app-21351d77.js";import"./_plugin-vue_export-helper-c27b6911.js";const B=e("option",{selected:"",value:""},"Todos",-1),F=["value"],N=e("th",null,"ID",-1),z=e("th",null,"Mes",-1),A=e("th",null,"Ingresos",-1),J=e("th",null,"Egresos",-1),R=e("th",null,"Ganacia",-1),G={class:"hover:bg-gray-50"},H={class:"badge-success"},P={class:"badge-danger"},U=e("td",null,null,-1),K=e("td",{class:"font-bold"},"Total",-1),Q={class:"font-bold"},W={class:"font-bold"},X={class:"font-bold"},se={__name:"Index",props:{incomes:{type:Object,required:!0},expenditures:{type:Object,required:!0},concepts:{type:Object,required:!0}},setup(u){const a=u,y=[{name:"Dashboard",route:"dashboard.index"},{name:"Resumen",route:"dashboard.summary.index"}],C=new I().month(),d=T({model_id:""}),S=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Septiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}];function $(n){const o=a.incomes.find(t=>t.month===n);return o?"C$ "+o.total.toLocaleString():"C$ 0"}function L(n){const o=a.expenditures.find(t=>t.month===n);return o?"C$ "+o.total.toLocaleString():"C$ 0"}function m(n){var b,f;const o=((b=a.incomes.find(c=>c.month===n))==null?void 0:b.total)??0,t=((f=a.expenditures.find(c=>c.month===n))==null?void 0:f.total)??0;return"C$ "+(o-t).toLocaleString()}const _=h(()=>a.incomes.reduce((n,o)=>n+o.total,0)),p=h(()=>a.expenditures.reduce((n,o)=>n+o.total,0));V(()=>d.model_id,n=>{O()});function O(){d.model_id===""&&delete d.model_id,q.get(route("dashboard.summary.index"),d,{preserveState:!0,preserveScroll:!0,only:["incomes","expenditures"],replace:!0})}return(n,o)=>(r(),j(D,{title:"Dashboard",breads:y},{default:i(()=>[g(E,null,{topbar:i(()=>[g(M,{modelValue:d.model_id,"onUpdate:modelValue":o[0]||(o[0]=t=>d.model_id=t),text:"Model"},{default:i(()=>[B,(r(!0),l(v,null,x(u.concepts,t=>(r(),l("option",{value:t.id},s(t.name),9,F))),256))]),_:1},8,["modelValue"])]),header:i(()=>[N,z,A,J,R]),body:i(()=>[(r(!0),l(v,null,x(S.slice(0,k(C)),t=>(r(),l("tr",G,[e("td",null,s(t.id),1),e("td",null,s(t.name),1),e("td",null,[e("span",H,s($(t.id)),1)]),e("td",null,[e("span",P,s(L(t.id)),1)]),e("td",null,[e("span",{class:w([m(t.id).includes("-")?"badge-danger":"badge-blue"])},s(m(t.id)),3)])]))),256)),e("tr",null,[U,K,e("td",Q,"C$ "+s(_.value.toLocaleString()),1),e("td",W,"C$ "+s(p.value.toLocaleString()),1),e("td",X,"C$ "+s((_.value-p.value).toLocaleString()),1)])]),_:1})]),_:1}))}};export{se as default};
