import{_ as S}from"./AppLayout-0cb1b585.js";import{_ as v}from"./PrimaryButton-275c7df4.js";import{_ as P}from"./DialogModal-6c59dca7.js";import{_ as f}from"./InputForm-a774d690.js";import{_ as $}from"./SecondaryButton-f81cfa04.js";import{h as g,T as w,o as u,b as N,w as a,d as s,f as c,a as t,u as n,t as m,c as h,k as D,F as q,e as B}from"./app-255317fc.js";import{t as y}from"./toast-44a1761e.js";import{T}from"./TableSection-7555a494.js";import{C as x}from"./Carbon-053ffa43.js";import{_ as U}from"./ThePaginator-29692a73.js";import{_ as E}from"./DateColumn-efc708e0.js";import{I as F}from"./IconPencil-4b1f4e99.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"grid gap-6"},j={class:"font-semibold text-xl text-gray-800 leading-tight items-center"},A=t("th",null,"Fecha",-1),I=t("th",null,"Concepto",-1),L=t("th",null,"Descripcion",-1),O=t("th",null,"Monto",-1),z=t("th",null,"Acciones",-1),G={class:"hover:bg-gray-50"},Y={class:"badge-blue"},H={key:0},J=t("td",{colspan:"5",class:"text-center"},"No data to display",-1),K=[J],ue={__name:"Show",props:{employee:{payment:Object,required:!0},payments:{payment:Object,required:!0}},setup(d){const b=d,i=g(!1),p=g(!0),V=[{name:"Dashboard",route:"dashboard.index"},{name:"Personal",route:"dashboard.employees.index"},{name:"Pagos",route:"dashboard.employees.show",params:[b.employee.id]}],e=w({id:null,value:0,quantity:1,description:"",concept:"Pago de salario",expenditureable_type:"App\\Models\\Employee",expenditureable_id:b.employee.id,created_at:x.today()});function k(l){p.value=!1,e.id=l.id,e.value=l.value,e.quantity=l.quantity,e.description=l.description,e.concept=l.concept,e.created_at=new x(l.created_at).format("Y-m-d"),i.value=!0}function C(){p.value?e.post(route("dashboard.expenditures.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),y.success("Pago guardado correctamente!")}}):e.put(route("dashboard.expenditures.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),y.success("Pago actualizado correctamente!")}})}function _(){e.reset(),e.clearErrors(),p.value=!0,i.value=!1}return(l,r)=>(u(),N(S,{title:"Dashboard",breads:V},{default:a(()=>[s(P,{show:i.value},{title:a(()=>[c(" Nuevo Pago ")]),content:a(()=>[t("div",M,[s(f,{text:"Description (optional)",modelValue:n(e).description,"onUpdate:modelValue":r[0]||(r[0]=o=>n(e).description=o)},null,8,["modelValue"]),s(f,{text:"Value",modelValue:n(e).value,"onUpdate:modelValue":r[1]||(r[1]=o=>n(e).value=o)},null,8,["modelValue"]),s(f,{text:"Date",modelValue:n(e).created_at,"onUpdate:modelValue":r[2]||(r[2]=o=>n(e).created_at=o),type:"date"},null,8,["modelValue"])])]),footer:a(()=>[s($,{onClick:_},{default:a(()=>[c(" Cancelar ")]),_:1}),s(v,{payment:"button",onClick:C},{default:a(()=>[c(" Guardar ")]),_:1})]),_:1},8,["show"]),s(T,null,{topbar:a(()=>[t("div",null,[t("h2",j," Pagos: "+m(d.employee.name),1)]),s(v,{payment:"button",onClick:r[3]||(r[3]=o=>i.value=!0)},{default:a(()=>[c(" Nuevo ")]),_:1})]),header:a(()=>[A,I,L,O,z]),body:a(()=>[(u(!0),h(q,null,D(d.payments.data,(o,Q)=>(u(),h("tr",G,[t("td",null,[s(E,{date:o.created_at},null,8,["date"])]),t("td",null,m(o.concept),1),t("td",null,m(o.description),1),t("td",null,[t("span",Y,"C$ "+m(o.value.toLocaleString("en-US")),1)]),t("td",null,[s(n(F),{onClick:R=>k(o),role:"button"},null,8,["onClick"])])]))),256)),d.payments.data.length==0?(u(),h("tr",H,K)):B("",!0)]),paginator:a(()=>[s(U,{links:d.payments.links},null,8,["links"])]),_:1})]),_:1}))}};export{ue as default};
