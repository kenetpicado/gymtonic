import{_ as V}from"./DialogModal-d07daf4a.js";import{_ as $}from"./InputForm-65091a83.js";import{_ as b}from"./PrimaryButton-d362a969.js";import{_ as N}from"./SecondaryButton-a7552c42.js";import{T as I}from"./TableSection-f60b7dab.js";import{_ as W}from"./AppLayout-f9cfb8f2.js";import{h as g,T as P,o as i,b as T,w as t,d as o,f as d,u as m,a as e,t as h,c as p,k as B,F as D,e as A,O as F}from"./app-2f343102.js";import{_ as O}from"./DateColumn-ca3e4641.js";import{t as v}from"./toast-e5171180.js";import{c as E}from"./alert-34beba6c.js";import{I as j}from"./IconPencil-1cb40e8f.js";import{I as q}from"./IconTrash-0a5373fb.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Carbon-053ffa43.js";import"./sweetalert2.all-4d206ebc.js";const G={class:"font-semibold text-xl text-gray-800 leading-tight items-center"},L=e("th",null,"ID",-1),M=e("th",null,"Fecha",-1),U=e("th",null,"Peso (lbs)",-1),z=e("th",null,"Acciones",-1),H={class:"hover:bg-gray-50"},J={class:"badge-blue"},K={class:"flex gap-2"},Q={key:0},R=e("td",{colspan:"4",class:"text-center"},"No data to display",-1),X=[R],fe={__name:"Index",props:{customer:{type:Object,required:!0}},setup(l){const u=l,n=g(!1),f=g(!0),y=[{name:"Dashboard",route:"dashboard.index"},{name:"Clientes",route:"dashboard.customers.index"},{name:"Pesos",route:"dashboard.customers.weights.index",params:[u.customer.id]}],s=P({id:null,value:null});function x(){f.value?s.post(route("dashboard.customers.weights.store",u.customer.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),v.success("Weight added successfully")}}):s.put(route("dashboard.customers.weights.update",[u.customer.id,s.id]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),v.success("Weight updated successfully")}})}async function k(a){s.id=a.id,s.value=a.value,f.value=!1,n.value=!0}function C(a){E(()=>{F.delete(route("dashboard.customers.weights.destroy",[u.customer.id,a]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{v.success("Weight deleted successfully")}})},"Are you sure you want to delete this weight?")}function _(){s.reset(),s.clearErrors(),n.value=!1,f.value=!0}return(a,c)=>(i(),T(W,{title:"Dashboard",breads:y},{default:t(()=>[o(V,{show:n.value},{title:t(()=>[d(" Nuevo Peso ")]),content:t(()=>[o($,{text:"Value",modelValue:m(s).value,"onUpdate:modelValue":c[0]||(c[0]=r=>m(s).value=r)},null,8,["modelValue"])]),footer:t(()=>[o(N,{onClick:_},{default:t(()=>[d(" Cancelar ")]),_:1}),o(b,{type:"button",onClick:x},{default:t(()=>[d(" Guardar ")]),_:1})]),_:1},8,["show"]),o(I,null,{topbar:t(()=>[e("h2",G," Pesos: "+h(l.customer.name),1),o(b,{type:"button",onClick:c[1]||(c[1]=r=>n.value=!0)},{default:t(()=>[d(" Nuevo ")]),_:1})]),header:t(()=>[L,M,U,z]),body:t(()=>[(i(!0),p(D,null,B(l.customer.weights,(r,S)=>(i(),p("tr",H,[e("td",null,h(S+1),1),e("td",null,[o(O,{date:r.created_at},null,8,["date"])]),e("td",null,[e("span",J,h(r.value)+" lbs ",1)]),e("td",null,[e("div",K,[o(m(j),{onClick:w=>k(r),role:"button"},null,8,["onClick"]),o(m(q),{onClick:w=>C(r.id),role:"button"},null,8,["onClick"])])])]))),256)),l.customer.weights.length==0?(i(),p("tr",Q,X)):A("",!0)]),_:1})]),_:1}))}};export{fe as default};
