import{_ as b}from"./PrimaryButton-045970ee.js";import{_ as $}from"./AppLayout-d2bd9a80.js";import{_ as g}from"./DialogModal-67190315.js";import{_ as v}from"./InputForm-f8c2342d.js";import{_ as S}from"./SecondaryButton-47d90010.js";import{j as x,T as U,o as n,f as w,w as a,b as l,d as f,t as i,u as s,c as d,k as V,F as y,h as I,a as o}from"./app-20f6db79.js";import{_ as B}from"./UserInformation-38d57526.js";import{T}from"./TableSection-18e4a448.js";import{c as j,t as q}from"./toast-4b6ad305.js";import{_ as D}from"./SelectForm-9c893b23.js";import{I as E}from"./IconPencil-d2f0c55e.js";import"./helpers-6ad6ad27.js";import"./_plugin-vue_export-helper-c27b6911.js";const F=o("div",{class:"text-2xl font-extrabold text-gray-600"},"Usuarios",-1),O=o("th",null,"ID",-1),R=o("th",null,"Nombre",-1),z=o("th",null,"Correo",-1),A=o("th",null,"Rol",-1),G=o("th",null,"Accciones",-1),L={class:"hover:bg-gray-50"},M={class:"badge-blue uppercase"},P={key:0},H=o("td",{colspan:"4",class:"text-center"},"No data to display",-1),J=[H],ie={__name:"Index",props:{users:{type:Object,required:!0},roles:{type:Object,required:!0}},setup(m){const h=m,c=x(!1),_=x(!0),k=[{name:"Inicio",route:"dashboard.index"},{name:"Usuarios",route:"dashboard.users.index"}],e=U({id:null,name:"",email:"",role:h.roles[h.roles.length-1]});function C(u){e.id=u.id,e.name=u.name,e.email=u.email,e.role=u.role,_.value=!1,c.value=!0}function N(){_.value?e.post(route("dashboard.users.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{j(),p()}}):e.put(route("dashboard.users.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{q.success("Usuario actualizado correctamente!"),p()}})}function p(){e.reset(),_.value=!0,c.value=!1}return(u,r)=>(n(),w($,{title:"Usuarios",breads:k},{default:a(()=>[l(g,{show:c.value},{title:a(()=>[f(i(_.value?"Nuevo":"Editar"),1)]),content:a(()=>[l(v,{text:"Nombre",name:"name",modelValue:s(e).name,"onUpdate:modelValue":r[0]||(r[0]=t=>s(e).name=t)},null,8,["modelValue"]),l(v,{text:"Correo",name:"email",modelValue:s(e).email,"onUpdate:modelValue":r[1]||(r[1]=t=>s(e).email=t),type:"email"},null,8,["modelValue"]),l(D,{text:"Rol",name:"role",modelValue:s(e).role,"onUpdate:modelValue":r[2]||(r[2]=t=>s(e).role=t)},{default:a(()=>[(n(!0),d(y,null,V(m.roles,t=>(n(),d("option",null,i(t),1))),256))]),_:1},8,["modelValue"])]),footer:a(()=>[l(S,{onClick:p},{default:a(()=>[f(" Cancelar ")]),_:1}),l(b,{type:"button",onClick:N},{default:a(()=>[f(" Guardar ")]),_:1})]),_:1},8,["show"]),l(T,null,{topbar:a(()=>[F,l(b,{type:"button",onClick:r[3]||(r[3]=t=>c.value=!0)},{default:a(()=>[f(" Nuevo ")]),_:1})]),header:a(()=>[O,R,z,A,G]),body:a(()=>[(n(!0),d(y,null,V(m.users,(t,K)=>(n(),d("tr",L,[o("td",null,i(t.id),1),o("th",null,[l(B,{user:t},null,8,["user"])]),o("td",null,i(t.email),1),o("td",null,[o("span",M,i(t.role),1)]),o("td",null,[l(s(E),{onClick:Q=>C(t),role:"button"},null,8,["onClick"])])]))),256)),m.users.length==0?(n(),d("tr",P,J)):I("",!0)]),_:1})]),_:1}))}};export{ie as default};
