import{_ as N}from"./DateColumn-63e6020c.js";import{_ as T}from"./DialogModal-ac59735e.js";import{_ as p}from"./InputForm-2558843a.js";import{_ as b}from"./PrimaryButton-2219454a.js";import{_ as U}from"./SecondaryButton-fc06f65f.js";import{T as E}from"./TableSection-8132796f.js";import{_ as I}from"./ThePaginator-e6d891db.js";import{_ as w}from"./AppLayout-875059f4.js";import{u as D}from"./notify-f5ca9d60.js";import{t as y}from"./toast-756d2dff.js";import{f as g,T as B,g as F,o as u,h as L,w as s,b as a,d as _,t as i,u as r,a as o,c as f,i as M,F as O,j as x,O as P}from"./app-02905ccf.js";import{C as j}from"./Carbon-053ffa43.js";import{I as A}from"./IconPencil-8de9f926.js";import{I as z}from"./IconTrash-dca619c4.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sweetalert2.all-1009aa37.js";const G={class:"text-lg font-medium text-gray-900 mb-2"},H={class:"text-2xl font-extrabold text-gray-600"},J=o("th",null,"Fecha",-1),K=o("th",null,"Descripcion",-1),Q=o("th",null,"Monto",-1),R=o("th",null,"Total",-1),W=o("th",null,"Acciones",-1),X={class:"hover:bg-gray-50"},Y={class:"font-medium text-gray-700"},Z={key:0,class:"text-gray-400"},ee={class:"badge-danger"},te={class:"flex gap-4"},oe=["onClick"],ae=["onClick"],se={key:0},ne=o("td",{colspan:"5",class:"text-center"}," No hay datos para mostrar ",-1),re=[ne],Ve={__name:"Index",props:{concept:{type:Object,required:!0},expenditures:{type:Object,required:!0}},setup(d){const v=d,c=g(!1),m=g(!0),C=[{name:"Inicio",route:"dashboard.index"},{name:"Conceptos",route:"dashboard.concepts.index"},{name:v.concept.name,route:"dashboard.concepts.expenditures.index",params:[v.concept.id]}],e=B({id:null,quantity:1,value:0,description:"",created_at:j.today(),expenditureable_id:v.concept.id,expenditureable_type:"App\\Models\\Concept"}),S=F(()=>(e.quantity*e.value).toLocaleString("en-US"));function V(l){e.id=l.id,e.quantity=l.quantity,e.value=l.value,e.description=l.description,m.value=!1,c.value=!0}function k(l){D().confirm(()=>{P.delete(route("dashboard.expenditures.destroy",l),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Pago eliminado correctamente!")}})},"¿Estás seguro de eliminar este pago?")}function $(){m.value?e.post(route("dashboard.expenditures.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Pago creado correctamente!"),h()}}):e.put(route("dashboard.expenditures.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Pago actualizado correctamente!"),h()}})}function h(){e.reset(),m.value=!0,c.value=!1}return(l,n)=>(u(),L(w,{title:"Dashboard",breads:C},{default:s(()=>[a(T,{show:c.value},{title:s(()=>[_(i(m.value?"Nuevo":"Editar"),1)]),content:s(()=>[a(p,{text:"Descripcion",name:"description",modelValue:r(e).description,"onUpdate:modelValue":n[0]||(n[0]=t=>r(e).description=t),autocomplete:"on"},null,8,["modelValue"]),a(p,{text:"Cantidad",name:"quantity",modelValue:r(e).quantity,"onUpdate:modelValue":n[1]||(n[1]=t=>r(e).quantity=t),type:"number"},null,8,["modelValue"]),a(p,{text:"Monto",name:"value",modelValue:r(e).value,"onUpdate:modelValue":n[2]||(n[2]=t=>r(e).value=t),type:"number"},null,8,["modelValue"]),a(p,{text:"Fecha",name:"created_at",modelValue:r(e).created_at,"onUpdate:modelValue":n[3]||(n[3]=t=>r(e).created_at=t),type:"date"},null,8,["modelValue"]),o("div",G," Total: C$ "+i(S.value),1)]),footer:s(()=>[a(U,{onClick:h},{default:s(()=>[_(" Cancelar ")]),_:1}),a(b,{type:"button",onClick:$},{default:s(()=>[_(" Guardar ")]),_:1})]),_:1},8,["show"]),a(E,null,{topbar:s(()=>[o("h2",H," Egresos: "+i(d.concept.name),1),a(b,{type:"button",onClick:n[4]||(n[4]=t=>c.value=!0)},{default:s(()=>[_(" Nuevo ")]),_:1})]),header:s(()=>[J,K,Q,R,W]),body:s(()=>[(u(!0),f(O,null,M(d.expenditures.data,(t,le)=>(u(),f("tr",X,[o("td",null,[a(N,{date:t.created_at},null,8,["date"])]),o("td",null,i(t.description),1),o("td",null,[o("div",Y," C$ "+i(t.value.toLocaleString("en-US")),1),t.quantity>1?(u(),f("div",Z," Cant. "+i(t.quantity),1)):x("",!0)]),o("td",null,[o("span",ee," C$ "+i((t.value*t.quantity).toLocaleString("en-US")),1)]),o("td",null,[o("div",te,[o("span",{tooltip:"Editar",role:"button",onClick:q=>V(t)},[a(r(A))],8,oe),o("span",{tooltip:"Eliminar",role:"button",onClick:q=>k(t.id)},[a(r(z))],8,ae)])])]))),256)),d.expenditures.data.length==0?(u(),f("tr",se,re)):x("",!0)]),paginator:s(()=>[a(I,{links:d.expenditures.links},null,8,["links"])]),_:1})]),_:1}))}};export{Ve as default};
