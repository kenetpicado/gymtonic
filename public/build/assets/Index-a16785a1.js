import{_ as V}from"./DialogModal-67190315.js";import{_ as $}from"./InputForm-f8c2342d.js";import{_ as b}from"./PrimaryButton-045970ee.js";import{_ as N}from"./SecondaryButton-47d90010.js";import{T as I}from"./TableSection-18e4a448.js";import{_ as W}from"./AppLayout-d2bd9a80.js";import{j as g,T as P,o as i,f as T,w as t,b as o,d,u as m,a as e,t as h,c as p,k as B,F as A,h as D,O as F}from"./app-20f6db79.js";import{_ as O}from"./DateColumn-8cccff53.js";import{t as v}from"./toast-4b6ad305.js";import{c as j}from"./alert-ecc636a4.js";import{I as E}from"./IconPencil-d2f0c55e.js";import{I as q}from"./IconTrash-03b6e6fd.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./sweetalert2.all-65002510.js";const G={class:"font-semibold text-xl text-gray-800 leading-tight items-center"},L=e("th",null,"ID",-1),M=e("th",null,"Fecha",-1),U=e("th",null,"Peso (lbs)",-1),z=e("th",null,"Acciones",-1),H={class:"hover:bg-gray-50"},J={class:"badge-blue"},K={class:"flex gap-2"},Q={key:0},R=e("td",{colspan:"4",class:"text-center"},"No data to display",-1),X=[R],me={__name:"Index",props:{customer:{type:Object,required:!0}},setup(l){const u=l,n=g(!1),f=g(!0),y=[{name:"Inicio",route:"dashboard.index"},{name:"Clientes",route:"dashboard.customers.index"},{name:"Pesos",route:"dashboard.customers.weights.index",params:[u.customer.id]}],s=P({id:null,value:null});function x(){f.value?s.post(route("dashboard.customers.weights.store",u.customer.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),v.success("Weight added successfully")}}):s.put(route("dashboard.customers.weights.update",[u.customer.id,s.id]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{_(),v.success("Weight updated successfully")}})}async function k(a){s.id=a.id,s.value=a.value,f.value=!1,n.value=!0}function C(a){j(()=>{F.delete(route("dashboard.customers.weights.destroy",[u.customer.id,a]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{v.success("Weight deleted successfully")}})},"Are you sure you want to delete this weight?")}function _(){s.reset(),s.clearErrors(),n.value=!1,f.value=!0}return(a,c)=>(i(),T(W,{title:"Dashboard",breads:y},{default:t(()=>[o(V,{show:n.value},{title:t(()=>[d(" Nuevo Peso ")]),content:t(()=>[o($,{text:"Value",modelValue:m(s).value,"onUpdate:modelValue":c[0]||(c[0]=r=>m(s).value=r)},null,8,["modelValue"])]),footer:t(()=>[o(N,{onClick:_},{default:t(()=>[d(" Cancelar ")]),_:1}),o(b,{type:"button",onClick:x},{default:t(()=>[d(" Guardar ")]),_:1})]),_:1},8,["show"]),o(I,null,{topbar:t(()=>[e("h2",G," Pesos: "+h(l.customer.name),1),o(b,{type:"button",onClick:c[1]||(c[1]=r=>n.value=!0)},{default:t(()=>[d(" Nuevo ")]),_:1})]),header:t(()=>[L,M,U,z]),body:t(()=>[(i(!0),p(A,null,B(l.customer.weights,(r,S)=>(i(),p("tr",H,[e("td",null,h(S+1),1),e("td",null,[o(O,{date:r.created_at},null,8,["date"])]),e("td",null,[e("span",J,h(r.value)+" lbs ",1)]),e("td",null,[e("div",K,[o(m(E),{onClick:w=>k(r),role:"button"},null,8,["onClick"]),o(m(q),{onClick:w=>C(r.id),role:"button"},null,8,["onClick"])])])]))),256)),l.customer.weights.length==0?(i(),p("tr",Q,X)):D("",!0)]),_:1})]),_:1}))}};export{me as default};
