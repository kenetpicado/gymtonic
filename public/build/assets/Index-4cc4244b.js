import{_ as g}from"./Checkbox-1d7f6d0f.js";import{c as V,C as E,_ as N}from"./AppLayout-35c1889e.js";import{c as I,D as S}from"./conceptIcons-46283a0a.js";import{o as l,c as _,a as n,f as p,g as B,u as t,d as i,t as v,b as d,h,w as a,i as b,j as k,T as j,k as O,F as D,K as F}from"./app-9474134e.js";import{_ as M}from"./DialogModal-7521c975.js";import{_ as U}from"./InputForm-943a80c4.js";import{_ as y}from"./PrimaryButton-1a2d1e4a.js";import{_ as z}from"./SecondaryButton-ed9273fc.js";import{t as C}from"./toast-532d1d63.js";import"./IconInfoCircle-9194f358.js";import"./_plugin-vue_export-helper-c27b6911.js";var T=V("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);const q={class:"w-full p-6 bg-white shadow-soft-xl rounded-xl"},L={class:"flex flex-col justify-between h-full"},A={class:"mb-2"},G={class:"mb-2 text-xl font-semibold tracking-tight text-gray-900"},K={key:0,class:"mb-5 text-sm text-gray-500 mt-1 lowercase"},H={class:"flex gap-4"},J={__name:"ConceptCard",props:{concept:{type:Object,required:!0}},setup(s){return(r,u)=>{var e;return l(),_("div",q,[n("div",L,[n("div",null,[n("div",A,[(l(),p(B(t(I)[s.concept.name]??t(S)),{size:"25",class:"text-gray-400"}))]),n("h5",G,[i(v(s.concept.name)+" ",1),d(t(T),{class:"inline-block w-4 h-4",onClick:u[0]||(u[0]=x=>r.$emit("onEdit",s.concept)),role:"button"})])]),s.concept.last_expenditure?(l(),_("p",K," Ãºlt. pago: "+v(t(E).create((e=s.concept.last_expenditure)==null?void 0:e.created_at).format("d de F")),1)):h("",!0),n("div",H,[s.concept.has_expenditure?(l(),p(t(b),{key:0,tooltip:"Ver los pagos",data:{type:"expenditures"},href:r.route("dashboard.concepts.show",s.concept.id),class:"badge-danger"},{default:a(()=>[i(" Egresos ")]),_:1},8,["href"])):h("",!0),s.concept.has_income?(l(),p(t(b),{key:1,tooltip:"Ver los ingresos",data:{type:"incomes"},href:r.route("dashboard.concepts.show",s.concept.id),class:"badge-success"},{default:a(()=>[i(" Ingresos ")]),_:1},8,["href"])):h("",!0)])])])}}},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-4"},Q={class:"flex items-center justify-between mb-6 gap-4"},R=n("h1",{class:"text-2xl font-extrabold text-gray-600 col-span-2"}," Conceptos ",-1),W={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6"},ie={__name:"Index",props:{concepts:{type:Object,required:!0}},setup(s){const r=k(!1),u=k(!0),e=j({id:null,name:"",has_income:!1,has_expenditure:!0}),x=[{name:"Inicio",route:"dashboard.index"},{name:"Conceptos",route:"dashboard.concepts.index"}];function w(m){e.id=m.id,e.name=m.name,e.has_income=!!m.has_income,e.has_expenditure=!!m.has_expenditure,u.value=!1,r.value=!0}function $(){u.value?e.post(route("dashboard.concepts.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{C.success("Concepto creado correctamente!"),f()}}):e.put(route("dashboard.concepts.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{C.success("Concepto actualizado correctamente!"),f()}})}function f(){e.reset(),u.value=!0,r.value=!1,F().props.errors={}}return(m,c)=>(l(),p(N,{title:"Concepto",breads:x},{default:a(()=>[d(M,{show:r.value},{title:a(()=>[i(" Concepto ")]),content:a(()=>[d(U,{text:"Nombre",name:"name",modelValue:t(e).name,"onUpdate:modelValue":c[0]||(c[0]=o=>t(e).name=o)},null,8,["modelValue"]),d(g,{class:"mb-4",checked:t(e).has_expenditure,"onUpdate:checked":c[1]||(c[1]=o=>t(e).has_expenditure=o),text:"Egresos"},null,8,["checked"]),d(g,{checked:t(e).has_income,"onUpdate:checked":c[2]||(c[2]=o=>t(e).has_income=o),text:"Ingresos"},null,8,["checked"])]),footer:a(()=>[d(z,{onClick:f},{default:a(()=>[i(" Cancelar ")]),_:1}),d(y,{type:"button",onClick:$},{default:a(()=>[i(" Guardar ")]),_:1})]),_:1},8,["show"]),n("div",P,[n("div",Q,[R,d(y,{type:"button",onClick:c[3]||(c[3]=o=>r.value=!0)},{default:a(()=>[i(" Nuevo ")]),_:1})]),n("div",W,[(l(!0),_(D,null,O(s.concepts.data,(o,X)=>(l(),p(J,{concept:o,onOnEdit:Y=>w(o)},null,8,["concept","onOnEdit"]))),256))])])]),_:1}))}};export{ie as default};
