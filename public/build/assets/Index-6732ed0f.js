import{_ as v}from"./Checkbox-30b1dbdc.js";import{C as V}from"./Carbon-053ffa43.js";import{c as E,D as N}from"./conceptIcons-9ea517bb.js";import{o as i,c as _,a as n,h as p,k as I,u as t,d as l,t as g,b as d,j as h,w as a,l as b,f as k,T as S,i as B,F as j,K as O}from"./app-02905ccf.js";import{c as D,_ as F}from"./AppLayout-875059f4.js";import{_ as M}from"./DialogModal-ac59735e.js";import{_ as U}from"./InputForm-2558843a.js";import{_ as C}from"./PrimaryButton-2219454a.js";import{_ as z}from"./SecondaryButton-fc06f65f.js";import{t as y}from"./toast-756d2dff.js";import"./IconInfoCircle-dd2b0a1b.js";import"./_plugin-vue_export-helper-c27b6911.js";var T=D("edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);const q={class:"w-full p-6 bg-white shadow-soft-xl rounded-xl"},L={class:"flex flex-col justify-between h-full"},A={class:"mb-2"},G={class:"mb-2 text-xl font-semibold tracking-tight text-gray-900"},K={key:0,class:"mb-5 text-sm text-gray-500 mt-1 lowercase"},H={class:"flex gap-4"},J={__name:"ConceptCard",props:{concept:{type:Object,required:!0}},setup(o){return(r,u)=>{var e;return i(),_("div",q,[n("div",L,[n("div",null,[n("div",A,[(i(),p(I(t(E)[o.concept.name]??t(N)),{size:"25",class:"text-gray-400"}))]),n("h5",G,[l(g(o.concept.name)+" ",1),d(t(T),{class:"inline-block w-4 h-4",onClick:u[0]||(u[0]=x=>r.$emit("onEdit",o.concept)),role:"button"})])]),o.concept.last_expenditure?(i(),_("p",K," Ãºlt. pago: "+g(t(V).create((e=o.concept.last_expenditure)==null?void 0:e.created_at).format("d de F")),1)):h("",!0),n("div",H,[o.concept.has_expenditure?(i(),p(t(b),{key:0,tooltip:"Ver los pagos",href:r.route("dashboard.concepts.expenditures.index",o.concept.id),class:"badge-danger"},{default:a(()=>[l(" Egresos ")]),_:1},8,["href"])):h("",!0),o.concept.has_income?(i(),p(t(b),{key:1,tooltip:"Ver los ingresos",href:r.route("dashboard.concepts.incomes.index",o.concept.id),class:"badge-success"},{default:a(()=>[l(" Ingresos ")]),_:1},8,["href"])):h("",!0)])])])}}},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 py-4"},Q={class:"flex items-center justify-between mb-6 gap-4"},R=n("h1",{class:"text-2xl font-extrabold text-gray-600 col-span-2"}," Conceptos ",-1),W={class:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-6"},ue={__name:"Index",props:{concepts:{type:Object,required:!0}},setup(o){const r=k(!1),u=k(!0),e=S({id:null,name:"",has_income:!1,has_expenditure:!0}),x=[{name:"Inicio",route:"dashboard.index"},{name:"Conceptos",route:"dashboard.concepts.index"}];function $(m){e.id=m.id,e.name=m.name,e.has_income=!!m.has_income,e.has_expenditure=!!m.has_expenditure,u.value=!1,r.value=!0}function w(){u.value?e.post(route("dashboard.concepts.store"),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Concepto creado correctamente!"),f()}}):e.put(route("dashboard.concepts.update",e.id),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{y.success("Concepto actualizado correctamente!"),f()}})}function f(){e.reset(),u.value=!0,r.value=!1,O().props.errors={}}return(m,c)=>(i(),p(F,{title:"Concepto",breads:x},{default:a(()=>[d(M,{show:r.value},{title:a(()=>[l(" Concepto ")]),content:a(()=>[d(U,{text:"Nombre",name:"name",modelValue:t(e).name,"onUpdate:modelValue":c[0]||(c[0]=s=>t(e).name=s)},null,8,["modelValue"]),d(v,{checked:t(e).has_expenditure,"onUpdate:checked":c[1]||(c[1]=s=>t(e).has_expenditure=s),text:"Egresos"},null,8,["checked"]),d(v,{checked:t(e).has_income,"onUpdate:checked":c[2]||(c[2]=s=>t(e).has_income=s),text:"Ingresos"},null,8,["checked"])]),footer:a(()=>[d(z,{onClick:f},{default:a(()=>[l(" Cancelar ")]),_:1}),d(C,{type:"button",onClick:w},{default:a(()=>[l(" Guardar ")]),_:1})]),_:1},8,["show"]),n("div",P,[n("div",Q,[R,d(C,{type:"button",onClick:c[3]||(c[3]=s=>r.value=!0)},{default:a(()=>[l(" Nuevo ")]),_:1})]),n("div",W,[(i(!0),_(j,null,B(o.concepts.data,(s,X)=>(i(),p(J,{concept:s,onOnEdit:Y=>$(s)},null,8,["concept","onOnEdit"]))),256))])])]),_:1}))}};export{ue as default};
